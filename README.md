## TopDownGame

# 게임 프로그래밍 프로젝트

강의로 배운 언리얼의 기본 개념을 사용해 게임을 제작했습니다.
Readme로 간단히 설명을 하겠습니다.

사용한 개념

- 애니메이션
- 물리 엔진
- AI와 네비게이션
- UI와 사운드
- 블루프린트와 C++
- 카메라와 ray

# Game
<img src="https://user-images.githubusercontent.com/59460871/155918774-229efb95-8311-494a-8d21-c0a4da92501b.PNG"  width="400" height="200"/>

- TopDown 뷰로 적들에게서 최대한 오래 살아남는 게임입니다.
- wasd로 이동이 가능
- 마우스로 캐릭터 회전, 좌클릭으로 총 발사 가능
- 총알이 제한 되어 있어, 맵에있는 총을 지속적으로 획득해야합니다.
- UI로 체력과 총알을 보여줍니다.

 
# TopDownView
<img src="https://user-images.githubusercontent.com/59460871/157593218-252bce6a-96ad-4c2d-8284-fc0dd963008a.PNG"  width="400" height="200"/>

- 가장 구현하기 어려웠던 View 부분 입니다.
- 탑다운 뷰는 블루프린트로 만들었습니다.
- 카메라는 플레이어를 따라다니고 ray를 쏘아 마우스를 통과해 바닥에 충돌체크를 합니다.
- 과정에서 월드 좌표와 로컬 좌표에 대해 알 수 있었습니다.

# AI
<img src="https://user-images.githubusercontent.com/59460871/157593656-fd223e29-6038-4263-9a5a-820c3a98d838.PNG"  width="400" height="200"/>

- AI를 위한 비해비어트리입니다
- Navmesh로 지역을 정한 곳에서 플레이어를 따라갑니다
- 충돌 시 플레이어에게 데미지를 주며 주기는 1초입니다.
- 플레이어의 위치는 블랙보드에서 변수로 저장하고 전달해 줍니다.

# Item
<img src="https://user-images.githubusercontent.com/59460871/157594129-6082a833-ebd0-4e50-bf5f-156def0d132c.PNG"  width="400" height="200"/>
<img src="https://user-images.githubusercontent.com/59460871/157595619-214163b7-22b6-4876-9dfd-79db7fc7982b.PNG"  width="400" height="200"/>

- 충돌 시 총알을 획득하는 총을 스폰하는 블루프린트입니다.
- 플레이어의 움직임을 강제하는 효과를 위해 넣었으며
- C++클래스에서 획득시 사운드를 함께 넣어 주었습니다.

# UI
<img src="https://user-images.githubusercontent.com/59460871/157595995-dafeeb2a-59ce-4865-a911-5540c0b49ca8.PNG"  width="400" height="200"/>

- 맨 처음 사진의 하트(채력)이 다 달게 되면 보이는 게임오버 화면입니다.
- 블루프린트로 만들었으며 각 버튼마다 함수를 만들어 주었습니다.

# 느낀점
- 블루프린트와 c++의 관계


블루프린트와 c++을 복합적으로 사용하려 했으나 동시에 사용 불가능한 기능이 몇가지 있었습니다. 예를 들어 블루프린트에서 방향키에 관한 입력을 정의하고 c++에서도
정의 할 시 둘다 작동을 하지 않더군요. 서로 겹치는 부분이 없어도 말입니다. 그래서 탑다운 뷰로 플레이어의 움직임을 만들때 블루프린트로만 코딩을 하였었습니다.

- 인터페이스


플레이어와 적이 충돌체크를 하고나서 그 오브젝트의 HP를 깍으려고 할 때 오류가 났었습니다. 오브젝트가 HP를 가지고 있다는 것을 어떻게 아냐는 것이죠.
그래서 체력을 깍는 컴포넌트를 따로 만들었습니다. 그 뒤 총알로 적을 맞출 때도 또 똑같은 코드를 만들게 되었습니다. 이 때 제가 짜는 코드가 너무 비효율적인 것같은
생각이 들었습니다. 그래서 고민도 해보고 검색도 해보며 인터페이스를 통한 상속으로 클래스트리를 만드는 형식을 발견하게 되었습니다.

- 애니메이션


유니티와 언리얼의 차이에서 애니메이션 이야기가 꼭 나오는 것을 느낄 수 있었습니다. 좀 더 세분화 되고, 개념이 깊더군요. 그 중 제가 이해한 부분은 정말
작은 부분이겠지만, 모션의 세세한 부분마다 이벤트를 넣고, 떨어진 뼈대를 자동으로 교정해주고, 서로다른 모션을 몽타주로서 합치는 부분은 어려우면서도 편리한 기능이었습니다.





